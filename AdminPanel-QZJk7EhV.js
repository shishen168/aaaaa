var J=Object.defineProperty;var V=(r,s,t)=>s in r?J(r,s,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[s]=t;var M=(r,s,t)=>V(r,typeof s!="symbol"?s+"":s,t);import{c as k,r as n,j as e,U as Y,X as T,S as U,D as S,a as N,u as w,H as G,E as F,T as B,b as z,d as _,n as L,B as q,C as K,p as R,e as I,P as Q,f as X,g as W,M as Z,L as ee,h as se}from"./index-DddLYNrz.js";/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O=k("BarChart",[["line",{x1:"12",x2:"12",y1:"20",y2:"10",key:"1vz5eb"}],["line",{x1:"18",x2:"18",y1:"20",y2:"4",key:"cun8e5"}],["line",{x1:"6",x2:"6",y1:"20",y2:"16",key:"hq0ia6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $=k("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A=k("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const te=k("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ae=k("UserCog",[["circle",{cx:"18",cy:"15",r:"3",key:"gjjjvw"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M10 15H6a4 4 0 0 0-4 4v2",key:"1nfge6"}],["path",{d:"m21.7 16.4-.9-.3",key:"12j9ji"}],["path",{d:"m15.2 13.9-.9-.3",key:"1fdjdi"}],["path",{d:"m16.6 18.7.3-.9",key:"heedtr"}],["path",{d:"m19.1 12.2.3-.9",key:"1af3ki"}],["path",{d:"m19.6 18.7-.4-1",key:"1x9vze"}],["path",{d:"m16.8 12.3-.4-1",key:"vqeiwj"}],["path",{d:"m14.3 16.6 1-.4",key:"1qlj63"}],["path",{d:"m20.7 13.8 1-.4",key:"1v5t8k"}]]);function le(){const[r,s]=n.useState({usdtAddress:"TFKSSswm9dyoV6jP1RneJvmzW1B8Xoew26",qrCodeUrl:""}),[t,o]=n.useState(""),[d,m]=n.useState("");n.useEffect(()=>{const h=localStorage.getItem("paymentSettings");h&&s(JSON.parse(h))},[]);const c=h=>{var x;const a=(x=h.target.files)==null?void 0:x[0];if(a){if(a.size>1024*1024){m("图片大小不能超过1MB");return}const u=new FileReader;u.onload=l=>{s(g=>{var f;return{...g,qrCodeUrl:(f=l.target)==null?void 0:f.result}})},u.readAsDataURL(a)}},p=()=>{try{localStorage.setItem("paymentSettings",JSON.stringify(r)),o("设置已保存"),m(""),setTimeout(()=>o(""),3e3)}catch{m("保存设置失败")}};return e.jsx("div",{className:"bg-white rounded-lg shadow",children:e.jsxs("div",{className:"p-6 space-y-6",children:[t&&e.jsx("div",{className:"bg-green-50 text-green-600 p-4 rounded-md",children:t}),d&&e.jsx("div",{className:"bg-red-50 text-red-600 p-4 rounded-md",children:d}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"USDT-TRC20 收款地址"}),e.jsx("input",{type:"text",value:r.usdtAddress,onChange:h=>s(a=>({...a,usdtAddress:h.target.value})),className:"w-full px-3 py-2 border rounded-md focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"请输入USDT-TRC20收款地址"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"收款二维码"}),e.jsxs("div",{className:"space-y-4",children:[r.qrCodeUrl&&e.jsx("div",{className:"w-48 h-48 border rounded-lg overflow-hidden",children:e.jsx("img",{src:r.qrCodeUrl,alt:"Payment QR Code",className:"w-full h-full object-contain"})}),e.jsxs("div",{children:[e.jsxs("label",{className:"flex items-center px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 cursor-pointer w-fit",children:[e.jsx(Y,{className:"w-4 h-4 mr-2"}),"上传新二维码",e.jsx("input",{type:"file",accept:"image/*",onChange:c,className:"hidden"})]}),e.jsx("p",{className:"mt-2 text-sm text-gray-500",children:"支持 JPG、PNG 格式，大小不超过1MB"})]})]})]}),e.jsx("div",{className:"flex justify-end",children:e.jsxs("button",{onClick:p,className:"flex items-center px-6 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700",children:[e.jsx(A,{className:"w-4 h-4 mr-2"}),"保存设置"]})})]})})}function re({isOpen:r,onClose:s,user:t}){return r?e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-white rounded-lg w-full max-w-md",children:[e.jsxs("div",{className:"flex justify-between items-center p-6 border-b",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"用户详情"}),e.jsx("button",{onClick:s,className:"text-gray-400 hover:text-gray-600",children:e.jsx(T,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"p-6 space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-500",children:"用户ID"}),e.jsx("p",{className:"mt-1",children:t.id})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-500",children:"邮箱"}),e.jsx("p",{className:"mt-1",children:t.email})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-500",children:"账户状态"}),e.jsx("p",{className:"mt-1",children:e.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${t.status==="active"?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:t.status==="active"?"正常":"已封禁"})})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-500",children:"账户余额"}),e.jsxs("p",{className:"mt-1",children:[t.balance.toFixed(2)," USDT"]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-500",children:"最后登录时间"}),e.jsx("p",{className:"mt-1",children:t.lastLogin})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-500",children:"注册时间"}),e.jsx("p",{className:"mt-1",children:t.createdAt})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-500",children:"总订单数"}),e.jsx("p",{className:"mt-1",children:t.totalOrders})]})]}),e.jsx("div",{className:"flex justify-end p-6 border-t",children:e.jsx("button",{onClick:s,className:"px-4 py-2 bg-gray-100 text-gray-700 rounded-md hover:bg-gray-200",children:"关闭"})})]})}):null}const ne=[{id:"1",type:"login",ip:"192.168.1.1",location:"中国，北京",time:"2024-03-15 14:30:00",details:"登录成功"},{id:"2",type:"recharge",amount:100,time:"2024-03-15 13:00:00",details:"充值 100 USDT"},{id:"3",type:"sms",amount:.1,time:"2024-03-15 12:30:00",details:"发送短信到 +1234567890"}];function ce({isOpen:r,onClose:s,user:t}){const[o,d]=n.useState(""),[m,c]=n.useState(null),[p,h]=n.useState(null);return r?e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-white rounded-lg w-full max-w-4xl max-h-[90vh] flex flex-col",children:[e.jsxs("div",{className:"flex justify-between items-center p-6 border-b",children:[e.jsxs("h3",{className:"text-lg font-semibold",children:["用户历史记录 - ",t.email]}),e.jsx("button",{onClick:s,className:"text-gray-400 hover:text-gray-600",children:e.jsx(T,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"p-6 space-y-4",children:[e.jsxs("div",{className:"flex flex-wrap gap-4",children:[e.jsx("div",{className:"flex-1 min-w-[200px]",children:e.jsxs("div",{className:"relative",children:[e.jsx(U,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),e.jsx("input",{type:"text",placeholder:"搜索历史记录...",value:o,onChange:a=>d(a.target.value),className:"w-full pl-10 pr-4 py-2 border rounded-md"})]})}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(S,{selected:m,onChange:c,placeholderText:"开始日期",className:"w-32 px-3 py-2 border rounded-md"}),e.jsx(S,{selected:p,onChange:h,placeholderText:"结束日期",className:"w-32 px-3 py-2 border rounded-md"})]})]}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-gray-50",children:[e.jsx("th",{className:"px-4 py-3 text-left text-sm font-medium text-gray-500",children:"时间"}),e.jsx("th",{className:"px-4 py-3 text-left text-sm font-medium text-gray-500",children:"类型"}),e.jsx("th",{className:"px-4 py-3 text-left text-sm font-medium text-gray-500",children:"详情"}),e.jsx("th",{className:"px-4 py-3 text-left text-sm font-medium text-gray-500",children:"IP地址"}),e.jsx("th",{className:"px-4 py-3 text-left text-sm font-medium text-gray-500",children:"位置"})]})}),e.jsx("tbody",{className:"divide-y",children:ne.map(a=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-4 py-3 text-sm",children:a.time}),e.jsx("td",{className:"px-4 py-3 text-sm",children:e.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${a.type==="login"?"bg-blue-100 text-blue-800":a.type==="recharge"?"bg-green-100 text-green-800":"bg-purple-100 text-purple-800"}`,children:a.type==="login"?"登录":a.type==="recharge"?"充值":"短信"})}),e.jsx("td",{className:"px-4 py-3 text-sm",children:a.details}),e.jsx("td",{className:"px-4 py-3 text-sm",children:a.ip||"-"}),e.jsx("td",{className:"px-4 py-3 text-sm",children:a.location||"-"})]},a.id))})]})})]})]})}):null}function ie({isOpen:r,onClose:s,onConfirm:t,user:o}){const[d,m]=n.useState(o.balance.toString()),[c,p]=n.useState("");if(!r)return null;const h=a=>{a.preventDefault();const x=parseFloat(d);if(isNaN(x)||x<0){p("请输入有效的金额");return}t(x),m(""),p("")};return e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-white rounded-lg w-full max-w-md",children:[e.jsxs("div",{className:"flex justify-between items-center p-6 border-b",children:[e.jsxs("h3",{className:"text-lg font-semibold",children:["修改余额 - ",o.email]}),e.jsx("button",{onClick:s,className:"text-gray-400 hover:text-gray-600",children:e.jsx(T,{className:"w-5 h-5"})})]}),e.jsxs("form",{onSubmit:h,className:"p-6 space-y-4",children:[c&&e.jsx("div",{className:"bg-red-50 text-red-500 p-3 rounded-md text-sm",children:c}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["当前余额: ",o.balance," USDT"]}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"number",value:d,onChange:a=>m(a.target.value),className:"w-full px-3 py-2 border rounded-md pl-10",placeholder:"输入新的余额",step:"0.01",min:"0"}),e.jsx(N,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"})]})]}),e.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[e.jsx("button",{type:"button",onClick:s,className:"px-4 py-2 text-gray-600 border rounded-md hover:bg-gray-50",children:"取消"}),e.jsx("button",{type:"submit",className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700",children:"确认修改"})]})]})]})})}function de(){const[r,s]=n.useState([]),[t,o]=n.useState(""),[d,m]=n.useState(null),[c,p]=n.useState(!1),[h,a]=n.useState(!1),[x,u]=n.useState(!1),[l,g]=n.useState(""),[f,v]=n.useState("");n.useEffect(()=>{C()},[]);const C=()=>{try{const j=w.getAllUsers();s(j),g("")}catch(j){g("加载用户列表失败"),console.error("Error loading users:",j)}},E=j=>{if(d)try{w.updateUserBalance(d.id,j)?(C(),p(!1),v("余额修改成功"),setTimeout(()=>v(""),3e3)):g("修改余额失败")}catch(y){g("修改余额失败"),console.error("Error modifying balance:",y)}},i=j=>{const y=r.find(H=>H.id===j);if(!y)return;w.updateUserStatus(j,y.status==="active"?"banned":"active")?(C(),v(`用户状态已${y.status==="active"?"禁用":"启用"}`),setTimeout(()=>v(""),3e3)):g("更新状态失败")},b=r.filter(j=>j.email.toLowerCase().includes(t.toLowerCase()));return e.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6",children:[e.jsx("div",{className:"flex justify-between items-center mb-6",children:e.jsx("h2",{className:"text-xl font-semibold",children:"用户管理"})}),f&&e.jsx("div",{className:"mb-4 p-3 bg-green-50 text-green-600 rounded-md",children:f}),l&&e.jsx("div",{className:"mb-4 p-3 bg-red-50 text-red-600 rounded-md",children:l}),e.jsx("div",{className:"mb-6",children:e.jsxs("div",{className:"relative",children:[e.jsx(U,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),e.jsx("input",{type:"text",placeholder:"搜索用户邮箱...",value:t,onChange:j=>o(j.target.value),className:"w-full pl-10 pr-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500"})]})}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-gray-50",children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"用户邮箱"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"状态"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"余额"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"总充值"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"总消费"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"最后登录"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"注册时间"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"总订单数"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"操作"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:b.map(j=>e.jsxs("tr",{children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("div",{className:"text-sm text-gray-900",children:j.email})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${j.status==="active"?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:j.status==="active"?"正常":"已封禁"})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"text-sm text-gray-900",children:[j.balance.toFixed(2)," USDT"]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"text-sm text-gray-900",children:[j.totalRecharge.toFixed(2)," USDT"]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"text-sm text-gray-900",children:[j.totalSpent.toFixed(2)," USDT"]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("div",{className:"text-sm text-gray-900",children:j.lastLogin})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("div",{className:"text-sm text-gray-900",children:j.registerDate})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("div",{className:"text-sm text-gray-900",children:j.totalOrders})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm",children:e.jsxs("div",{className:"flex space-x-2",children:[e.jsx("button",{onClick:()=>{m(j),p(!0)},className:"text-blue-600 hover:text-blue-900",title:"修改余额",children:e.jsx(N,{className:"w-5 h-5"})}),e.jsx("button",{onClick:()=>{m(j),u(!0)},className:"text-green-600 hover:text-green-900",title:"查看历史",children:e.jsx(G,{className:"w-5 h-5"})}),e.jsx("button",{onClick:()=>{m(j),a(!0)},className:"text-purple-600 hover:text-purple-900",title:"查看详情",children:e.jsx(F,{className:"w-5 h-5"})}),e.jsx("button",{onClick:()=>i(j.id),className:`${j.status==="active"?"text-red-600 hover:text-red-900":"text-green-600 hover:text-green-900"}`,title:j.status==="active"?"封禁用户":"解除封禁",children:e.jsx(B,{className:"w-5 h-5"})})]})})]},j.id))})]})}),d&&c&&e.jsx(ie,{isOpen:c,onClose:()=>p(!1),onConfirm:E,user:d}),d&&h&&e.jsx(re,{isOpen:h,onClose:()=>a(!1),user:d}),d&&x&&e.jsx(ce,{isOpen:x,onClose:()=>u(!1),user:d})]})}function xe(){const[r,s]=n.useState(""),[t,o]=n.useState(null),[d,m]=n.useState(null),[c]=n.useState([{id:"1",userId:"user1",email:"user1@example.com",type:"recharge",amount:100,status:"success",createTime:"2024-03-15 14:30:00",details:"充值 100 USDT"},{id:"2",userId:"user2",email:"user2@example.com",type:"sms",amount:.1,status:"success",createTime:"2024-03-15 13:00:00",details:"发送短信到 +15513598715"}]),p=c.filter(a=>{if(!(a.userId.toLowerCase().includes(r.toLowerCase())||a.email.toLowerCase().includes(r.toLowerCase())||a.details.toLowerCase().includes(r.toLowerCase())))return!1;if(t&&d){const u=new Date(a.createTime);return u>=t&&u<=d}return!0}),h=()=>{const a=[["订单ID","用户ID","邮箱","类型","金额","状态","创建时间","详情"],...p.map(l=>[l.id,l.userId,l.email,l.type,l.amount.toString(),l.status,l.createTime,l.details])].map(l=>l.join(",")).join(`
`),x=new Blob([a],{type:"text/csv;charset=utf-8;"}),u=document.createElement("a");u.href=URL.createObjectURL(x),u.download=`orders_${new Date().toISOString().split("T")[0]}.csv`,u.click()};return e.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h2",{className:"text-xl font-semibold",children:"订单管理"}),e.jsxs("button",{onClick:h,className:"flex items-center px-4 py-2 bg-green-600 text-white rounded-md hover:bg-green-700",children:[e.jsx(z,{className:"w-4 h-4 mr-2"}),"导出报表"]})]}),e.jsxs("div",{className:"flex gap-4 mb-6",children:[e.jsxs("div",{className:"flex-1 relative",children:[e.jsx(U,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),e.jsx("input",{type:"text",placeholder:"搜索订单...",value:r,onChange:a=>s(a.target.value),className:"w-full pl-10 pr-4 py-2 border rounded-md"})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(S,{selected:t,onChange:o,placeholderText:"开始日期",className:"px-4 py-2 border rounded-md"}),e.jsx(S,{selected:d,onChange:m,placeholderText:"结束日期",className:"px-4 py-2 border rounded-md"})]})]}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-gray-50",children:[e.jsx("th",{className:"px-4 py-2 text-left",children:"订单ID"}),e.jsx("th",{className:"px-4 py-2 text-left",children:"用户ID"}),e.jsx("th",{className:"px-4 py-2 text-left",children:"邮箱"}),e.jsx("th",{className:"px-4 py-2 text-left",children:"类型"}),e.jsx("th",{className:"px-4 py-2 text-left",children:"金额"}),e.jsx("th",{className:"px-4 py-2 text-left",children:"状态"}),e.jsx("th",{className:"px-4 py-2 text-left",children:"创建时间"}),e.jsx("th",{className:"px-4 py-2 text-left",children:"详情"})]})}),e.jsx("tbody",{children:p.map(a=>e.jsxs("tr",{className:"border-t hover:bg-gray-50",children:[e.jsx("td",{className:"px-4 py-2",children:a.id}),e.jsx("td",{className:"px-4 py-2",children:a.userId}),e.jsx("td",{className:"px-4 py-2",children:a.email}),e.jsx("td",{className:"px-4 py-2",children:e.jsx("span",{className:`px-2 py-1 rounded-full text-xs ${a.type==="recharge"?"bg-green-100 text-green-800":"bg-blue-100 text-blue-800"}`,children:a.type==="recharge"?"充值":"短信"})}),e.jsxs("td",{className:"px-4 py-2",children:[a.amount," USDT"]}),e.jsx("td",{className:"px-4 py-2",children:e.jsx("span",{className:`px-2 py-1 rounded-full text-xs ${a.status==="success"?"bg-green-100 text-green-800":a.status==="pending"?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"}`,children:a.status==="success"?"成功":a.status==="pending"?"处理中":"失败"})}),e.jsx("td",{className:"px-4 py-2",children:a.createTime}),e.jsx("td",{className:"px-4 py-2",children:a.details})]},a.id))})]})})]})}function oe(){const[r,s]=n.useState(""),[t,o]=n.useState([]),[d,m]=n.useState({}),[c,p]=n.useState({}),[h,a]=n.useState(""),[x,u]=n.useState("");n.useEffect(()=>{l()},[]);const l=()=>{o(w.getCredentials())},g=i=>{p({...c,[i.id]:{...i}})},f=i=>{if(!c[i])return;const{password:b}=c[i],j=w.validatePassword(b);if(!j.valid){u(j.message||"密码格式不正确");return}if(w.updateUserCredentials(i,c[i])){l();const P={...c};delete P[i],p(P),a("用户信息已更新"),setTimeout(()=>a(""),3e3)}else u("更新用户信息失败")},v=i=>{const b={...c};delete b[i],p(b),u("")},C=i=>{m(b=>({...b,[i]:!b[i]}))},E=t.filter(i=>i.email.toLowerCase().includes(r.toLowerCase())||i.username.toLowerCase().includes(r.toLowerCase()));return e.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6",children:[e.jsx("div",{className:"flex justify-between items-center mb-6",children:e.jsx("h2",{className:"text-xl font-semibold",children:"用户账号设置"})}),e.jsx("div",{className:"mb-6",children:e.jsxs("div",{className:"relative",children:[e.jsx(U,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),e.jsx("input",{type:"text",placeholder:"搜索用户...",value:r,onChange:i=>s(i.target.value),className:"w-full pl-10 pr-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500"})]})}),h&&e.jsx("div",{className:"mb-4 p-3 bg-green-50 text-green-600 rounded-md",children:h}),x&&e.jsx("div",{className:"mb-4 p-3 bg-red-50 text-red-600 rounded-md",children:x}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-gray-50",children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"邮箱"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"用户名"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"密码"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"最后修改时间"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"操作"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:E.map(i=>e.jsxs("tr",{children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:c[i.id]?e.jsx("input",{type:"email",value:c[i.id].email,onChange:b=>p({...c,[i.id]:{...c[i.id],email:b.target.value}}),className:"w-full px-2 py-1 border rounded"}):e.jsx("div",{className:"text-sm text-gray-900",children:i.email})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:c[i.id]?e.jsx("input",{type:"text",value:c[i.id].username,onChange:b=>p({...c,[i.id]:{...c[i.id],username:b.target.value}}),className:"w-full px-2 py-1 border rounded"}):e.jsx("div",{className:"text-sm text-gray-900",children:i.username})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("div",{className:"flex items-center",children:c[i.id]?e.jsxs("div",{className:"relative flex-1",children:[e.jsx("input",{type:d[i.id]?"text":"password",value:c[i.id].password,onChange:b=>p({...c,[i.id]:{...c[i.id],password:b.target.value}}),className:"w-full px-2 py-1 border rounded"}),e.jsx("button",{onClick:()=>C(i.id),className:"absolute right-2 top-1/2 transform -translate-y-1/2",children:d[i.id]?e.jsx(_,{className:"w-4 h-4 text-gray-400"}):e.jsx(F,{className:"w-4 h-4 text-gray-400"})})]}):e.jsx("div",{className:"text-sm text-gray-900",children:"••••••••"})})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("div",{className:"text-sm text-gray-900",children:i.lastPasswordChange})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm",children:c[i.id]?e.jsxs("div",{className:"flex space-x-2",children:[e.jsx("button",{onClick:()=>f(i.id),className:"text-green-600 hover:text-green-900",children:e.jsx(A,{className:"w-5 h-5"})}),e.jsx("button",{onClick:()=>v(i.id),className:"text-red-600 hover:text-red-900",children:"取消"})]}):e.jsx("button",{onClick:()=>g(i),className:"text-blue-600 hover:text-blue-900",children:"编辑"})})]},i.id))})]})})]})}function me(){const[r,s]=n.useState(""),[t,o]=n.useState(""),[d,m]=n.useState("");n.useEffect(()=>{const h=L.getCurrentNotification();s(h)},[]);const c=h=>{if(h.preventDefault(),!r.trim()){m("通知内容不能为空");return}L.updateNotification(r.trim())?(o("通知已更新"),setTimeout(()=>o(""),3e3)):m("更新通知失败")},p=()=>{L.clearNotification()?(s(""),o("通知已清除"),setTimeout(()=>o(""),3e3)):m("清除通知失败")};return e.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6",children:[e.jsx("div",{className:"flex justify-between items-center mb-6",children:e.jsx("h2",{className:"text-xl font-semibold",children:"通知设置"})}),t&&e.jsx("div",{className:"mb-4 p-3 bg-green-50 text-green-600 rounded-md",children:t}),d&&e.jsx("div",{className:"mb-4 p-3 bg-red-50 text-red-600 rounded-md",children:d}),e.jsxs("form",{onSubmit:c,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"通知内容"}),e.jsx("textarea",{value:r,onChange:h=>s(h.target.value),rows:3,className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"输入要显示的通知内容..."})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsxs("button",{type:"button",onClick:p,className:"flex items-center px-4 py-2 text-red-600 border border-red-600 rounded-md hover:bg-red-50",children:[e.jsx(T,{className:"w-4 h-4 mr-2"}),"清除通知"]}),e.jsxs("button",{type:"submit",className:"flex items-center px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700",children:[e.jsx(A,{className:"w-4 h-4 mr-2"}),"保存通知"]})]})]}),e.jsxs("div",{className:"mt-8 p-4 bg-gray-50 rounded-lg",children:[e.jsx("h3",{className:"text-sm font-medium text-gray-700 mb-2",children:"预览效果"}),r?e.jsxs("div",{className:"flex items-center p-3 bg-blue-600 text-white rounded-md",children:[e.jsx(q,{className:"w-5 h-5 mr-2"}),e.jsx("p",{className:"text-sm",children:r})]}):e.jsx("p",{className:"text-sm text-gray-500",children:"暂无通知内容"})]})]})}class he{getMonthlyRevenue(s,t){const o=localStorage.getItem("users");if(!o)return[];const d=JSON.parse(o),m=new Map;return d.forEach(c=>{const p=c.totalRecharge||0,h=new Date(c.registerDate),a=`${h.getFullYear()}/${String(h.getMonth()+1).padStart(2,"0")}`;if(s&&t){const u=new Date(h);if(u<s||u>t)return}m.has(a)||m.set(a,{month:a,amount:0,userCount:0});const x=m.get(a);x.amount+=p,x.userCount+=1}),Array.from(m.values()).sort((c,p)=>c.month.localeCompare(p.month))}}const ue=new he;function pe(){const[r,s]=n.useState(null),[t,o]=n.useState(null),[d,m]=n.useState([]),[c,p]=n.useState(0);n.useEffect(()=>{h()},[r,t]);const h=()=>{const x=ue.getMonthlyRevenue(r,t);m(x),p(x.reduce((u,l)=>u+l.amount,0))},a=()=>{const x=[["月份","充值金额(USDT)","充值人数","人均充值"],...d.map(g=>[g.month,g.amount.toFixed(2),g.userCount,(g.amount/g.userCount).toFixed(2)])].map(g=>g.join(",")).join(`
`),u=new Blob([x],{type:"text/csv;charset=utf-8;"}),l=document.createElement("a");l.href=URL.createObjectURL(u),l.download=`revenue_${new Date().toISOString().split("T")[0]}.csv`,l.click()};return e.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(O,{className:"w-6 h-6 text-blue-600 mr-2"}),e.jsx("h2",{className:"text-xl font-semibold",children:"营收统计"})]}),e.jsxs("button",{onClick:a,className:"flex items-center px-4 py-2 text-blue-600 border border-blue-600 rounded-md hover:bg-blue-50",children:[e.jsx(z,{className:"w-4 h-4 mr-2"}),"导出报表"]})]}),e.jsx("div",{className:"flex gap-4 mb-6",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(K,{className:"w-5 h-5 text-gray-400"}),e.jsx(S,{selected:r,onChange:s,dateFormat:"yyyy/MM",showMonthYearPicker:!0,placeholderText:"开始月份",className:"px-3 py-2 border rounded-md"}),e.jsx("span",{className:"text-gray-500",children:"至"}),e.jsx(S,{selected:t,onChange:o,dateFormat:"yyyy/MM",showMonthYearPicker:!0,placeholderText:"结束月份",className:"px-3 py-2 border rounded-md"})]})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[e.jsxs("div",{className:"bg-blue-50 rounded-lg p-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h3",{className:"text-sm font-medium text-blue-600",children:"总充值金额"}),e.jsx(N,{className:"w-5 h-5 text-blue-600"})]}),e.jsxs("p",{className:"text-2xl font-bold text-blue-600 mt-2",children:[c.toFixed(2)," USDT"]})]}),e.jsxs("div",{className:"bg-green-50 rounded-lg p-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h3",{className:"text-sm font-medium text-green-600",children:"月均充值"}),e.jsx(O,{className:"w-5 h-5 text-green-600"})]}),e.jsxs("p",{className:"text-2xl font-bold text-green-600 mt-2",children:[d.length?(c/d.length).toFixed(2):"0.00"," USDT"]})]}),e.jsxs("div",{className:"bg-purple-50 rounded-lg p-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h3",{className:"text-sm font-medium text-purple-600",children:"总充值人次"}),e.jsx(N,{className:"w-5 h-5 text-purple-600"})]}),e.jsx("p",{className:"text-2xl font-bold text-purple-600 mt-2",children:d.reduce((x,u)=>x+u.userCount,0)})]})]}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-gray-50",children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"月份"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"充值金额"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"充值人数"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"人均充值"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"环比增长"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:d.map((x,u)=>{const l=u>0?d[u-1].amount:x.amount,g=(x.amount-l)/l*100;return e.jsxs("tr",{children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:x.month}),e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:[x.amount.toFixed(2)," USDT"]}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:x.userCount}),e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:[(x.amount/x.userCount).toFixed(2)," USDT"]}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm",children:e.jsx("span",{className:`${g>0?"text-green-600":g<0?"text-red-600":"text-gray-600"}`,children:u===0?"-":`${g>0?"+":""}${g.toFixed(2)}%`})})]},x.month)})})]})})]})}function ge(){const[r,s]=n.useState({sendPrice:.1,receivePrice:.05}),[t,o]=n.useState(""),[d,m]=n.useState(""),[c,p]=n.useState(""),[h,a]=n.useState("");n.useEffect(()=>{const l=R.getSettings();s({sendPrice:l.sendPrice,receivePrice:l.receivePrice}),p(new Date(l.lastModified).toLocaleString()),a(l.modifiedBy)},[]);const x=l=>{if(l.preventDefault(),r.sendPrice<=0||r.receivePrice<=0){m("价格必须大于0");return}if(R.updatePrices(r.sendPrice,r.receivePrice)){const f=R.getSettings();p(new Date(f.lastModified).toLocaleString()),a(f.modifiedBy),o("价格设置已更新"),m(""),setTimeout(()=>o(""),3e3)}else m("更新价格失败")},u=(l,g)=>{s(f=>({...f,[l==="send"?"sendPrice":"receivePrice"]:Math.max(0,Number((f[l==="send"?"sendPrice":"receivePrice"]+g).toFixed(3)))}))};return e.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6",children:[e.jsx("div",{className:"flex justify-between items-center mb-6",children:e.jsx("h2",{className:"text-xl font-semibold",children:"短信价格设置"})}),t&&e.jsx("div",{className:"mb-4 p-3 bg-green-50 text-green-600 rounded-md",children:t}),d&&e.jsx("div",{className:"mb-4 p-3 bg-red-50 text-red-600 rounded-md",children:d}),e.jsxs("form",{onSubmit:x,className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"bg-blue-50 rounded-lg p-6",children:[e.jsxs("div",{className:"flex items-center mb-4",children:[e.jsx("div",{className:"bg-blue-100 p-2 rounded-lg mr-3",children:e.jsx(N,{className:"w-6 h-6 text-blue-600"})}),e.jsx("h3",{className:"text-lg font-medium",children:"发送短信价格"})]}),e.jsxs("div",{className:"relative flex items-center",children:[e.jsx("input",{type:"number",value:r.sendPrice,onChange:l=>s(g=>({...g,sendPrice:parseFloat(l.target.value)})),step:"0.01",min:"0",className:"w-full p-3 pr-24 border rounded-lg"}),e.jsxs("div",{className:"absolute right-3 flex items-center",children:[e.jsx("span",{className:"text-gray-500 mr-2",children:"USDT/条"}),e.jsxs("div",{className:"flex flex-col",children:[e.jsx("button",{type:"button",onClick:()=>u("send",.001),className:"text-gray-500 hover:text-blue-600",children:e.jsx($,{className:"w-4 h-4"})}),e.jsx("button",{type:"button",onClick:()=>u("send",-.001),className:"text-gray-500 hover:text-blue-600",children:e.jsx(I,{className:"w-4 h-4"})})]})]})]})]}),e.jsxs("div",{className:"bg-green-50 rounded-lg p-6",children:[e.jsxs("div",{className:"flex items-center mb-4",children:[e.jsx("div",{className:"bg-green-100 p-2 rounded-lg mr-3",children:e.jsx(N,{className:"w-6 h-6 text-green-600"})}),e.jsx("h3",{className:"text-lg font-medium",children:"接收短信价格"})]}),e.jsxs("div",{className:"relative flex items-center",children:[e.jsx("input",{type:"number",value:r.receivePrice,onChange:l=>s(g=>({...g,receivePrice:parseFloat(l.target.value)})),step:"0.01",min:"0",className:"w-full p-3 pr-24 border rounded-lg"}),e.jsxs("div",{className:"absolute right-3 flex items-center",children:[e.jsx("span",{className:"text-gray-500 mr-2",children:"USDT/条"}),e.jsxs("div",{className:"flex flex-col",children:[e.jsx("button",{type:"button",onClick:()=>u("receive",.001),className:"text-gray-500 hover:text-green-600",children:e.jsx($,{className:"w-4 h-4"})}),e.jsx("button",{type:"button",onClick:()=>u("receive",-.001),className:"text-gray-500 hover:text-green-600",children:e.jsx(I,{className:"w-4 h-4"})})]})]})]})]})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{className:"text-sm text-gray-500",children:[e.jsxs("p",{children:["上次修改时间: ",c]}),e.jsxs("p",{children:["修改人: ",h]})]}),e.jsxs("button",{type:"submit",className:"flex items-center px-6 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700",children:[e.jsx(A,{className:"w-4 h-4 mr-2"}),"保存设置"]})]})]}),e.jsxs("div",{className:"mt-8 p-4 bg-gray-50 rounded-lg",children:[e.jsx("h4",{className:"font-medium mb-2",children:"价格说明"}),e.jsxs("ul",{className:"space-y-2 text-sm text-gray-600",children:[e.jsx("li",{children:"• 价格修改后立即生效"}),e.jsx("li",{children:"• 价格必须大于0"}),e.jsx("li",{children:"• 建议发送价格略高于接收价格"}),e.jsx("li",{children:"• 价格调整会影响所有用户"})]})]})]})}class je{constructor(){M(this,"STORAGE_KEY","advertisements");M(this,"advertisements",[]);this.loadFromStorage(),this.advertisements.length===0&&this.initializeDefaultAds()}loadFromStorage(){try{const s=localStorage.getItem(this.STORAGE_KEY);s&&(this.advertisements=JSON.parse(s))}catch(s){console.error("Error loading advertisements:",s),this.advertisements=[]}}saveToStorage(){try{localStorage.setItem(this.STORAGE_KEY,JSON.stringify(this.advertisements)),window.dispatchEvent(new Event("advertisementUpdate"))}catch(s){console.error("Error saving advertisements:",s)}}initializeDefaultAds(){const s={id:"1",content:"欢迎来到神域工作室，本工作室主营：社交账户售卖、软件开发、渗透、P图、三方人设、AI换脸、声音克隆、直播引流等，详情请联系客服！",position:"bottom",active:!0,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()};this.advertisements=[s],this.saveToStorage()}getAllAds(){return this.advertisements}getActiveAd(s){return this.advertisements.find(t=>t.active&&t.position===s)||null}createAd(s){const t={...s,id:Date.now().toString(),createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()};return this.advertisements.push(t),this.saveToStorage(),t}updateAd(s,t){const o=this.advertisements.findIndex(d=>d.id===s);return o===-1?!1:(this.advertisements[o]={...this.advertisements[o],...t,updatedAt:new Date().toISOString()},this.saveToStorage(),!0)}deleteAd(s){const t=this.advertisements.length;return this.advertisements=this.advertisements.filter(o=>o.id!==s),this.advertisements.length!==t?(this.saveToStorage(),!0):!1}}const D=new je;function be(){const[r,s]=n.useState([]);n.useState(null);const[t,o]=n.useState(""),[d,m]=n.useState(""),[c,p]=n.useState("");n.useEffect(()=>{h()},[]);const h=()=>{const l=D.getAllAds();s(l)},a=()=>{if(!t.trim()){p("广告内容不能为空");return}const l=D.createAd({content:t,position:"bottom",active:!0});s([...r,l]),o(""),m("广告创建成功"),setTimeout(()=>m(""),3e3)},x=(l,g)=>{D.updateAd(l,g)?(h(),m("广告更新成功"),setTimeout(()=>m(""),3e3)):p("更新广告失败")},u=l=>{window.confirm("确定要删除这条广告吗？")&&(D.deleteAd(l)?(h(),m("广告删除成功"),setTimeout(()=>m(""),3e3)):p("删除广告失败"))};return e.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6",children:[e.jsx("div",{className:"flex justify-between items-center mb-6",children:e.jsx("h2",{className:"text-xl font-semibold",children:"广告设置"})}),d&&e.jsx("div",{className:"mb-4 p-3 bg-green-50 text-green-600 rounded-md",children:d}),c&&e.jsx("div",{className:"mb-4 p-3 bg-red-50 text-red-600 rounded-md",children:c}),e.jsx("div",{className:"mb-6",children:e.jsxs("div",{className:"flex gap-4",children:[e.jsx("input",{type:"text",value:t,onChange:l=>o(l.target.value),placeholder:"输入新广告内容...",className:"flex-1 px-4 py-2 border rounded-md"}),e.jsxs("button",{onClick:a,className:"flex items-center px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700",children:[e.jsx(Q,{className:"w-4 h-4 mr-2"}),"添加广告"]})]})}),e.jsx("div",{className:"space-y-4",children:r.map(l=>e.jsxs("div",{className:"p-4 border rounded-lg",children:[e.jsxs("div",{className:"flex justify-between items-start mb-2",children:[e.jsx("div",{className:"flex-1",children:e.jsx("textarea",{value:l.content,onChange:g=>x(l.id,{content:g.target.value}),className:"w-full p-2 border rounded-md",rows:2})}),e.jsxs("div",{className:"flex items-center ml-4",children:[e.jsx("button",{onClick:()=>x(l.id,{active:!l.active}),className:`px-3 py-1 rounded-md mr-2 ${l.active?"bg-green-100 text-green-600":"bg-gray-100 text-gray-600"}`,children:l.active?"已启用":"已禁用"}),e.jsx("button",{onClick:()=>u(l.id),className:"p-2 text-red-600 hover:bg-red-50 rounded-md",children:e.jsx(B,{className:"w-4 h-4"})})]})]}),e.jsxs("div",{className:"text-sm text-gray-500",children:["最后更新: ",new Date(l.updatedAt).toLocaleString()]})]},l.id))})]})}function Ne({onLogout:r}){const[s,t]=n.useState("users"),o=()=>{se.logout()};return e.jsxs("div",{className:"min-h-screen bg-gray-100 flex",children:[e.jsxs("div",{className:"w-64 bg-white shadow-lg",children:[e.jsx("div",{className:"p-6",children:e.jsx("h1",{className:"text-xl font-bold text-gray-900",children:"管理后台"})}),e.jsxs("nav",{className:"space-y-1",children:[e.jsxs("button",{onClick:()=>t("users"),className:`w-full flex items-center px-6 py-3 text-sm font-medium ${s==="users"?"bg-blue-50 text-blue-600 border-l-4 border-blue-600":"text-gray-600 hover:bg-gray-50"}`,children:[e.jsx(X,{className:"w-5 h-5 mr-3"}),"用户管理"]}),e.jsxs("button",{onClick:()=>t("prices"),className:`w-full flex items-center px-6 py-3 text-sm font-medium ${s==="prices"?"bg-blue-50 text-blue-600 border-l-4 border-blue-600":"text-gray-600 hover:bg-gray-50"}`,children:[e.jsx(N,{className:"w-5 h-5 mr-3"}),"价格设置"]}),e.jsxs("button",{onClick:()=>t("userSettings"),className:`w-full flex items-center px-6 py-3 text-sm font-medium ${s==="userSettings"?"bg-blue-50 text-blue-600 border-l-4 border-blue-600":"text-gray-600 hover:bg-gray-50"}`,children:[e.jsx(ae,{className:"w-5 h-5 mr-3"}),"用户设置"]}),e.jsxs("button",{onClick:()=>t("notification"),className:`w-full flex items-center px-6 py-3 text-sm font-medium ${s==="notification"?"bg-blue-50 text-blue-600 border-l-4 border-blue-600":"text-gray-600 hover:bg-gray-50"}`,children:[e.jsx(q,{className:"w-5 h-5 mr-3"}),"通知设置"]}),e.jsxs("button",{onClick:()=>t("payment"),className:`w-full flex items-center px-6 py-3 text-sm font-medium ${s==="payment"?"bg-blue-50 text-blue-600 border-l-4 border-blue-600":"text-gray-600 hover:bg-gray-50"}`,children:[e.jsx(te,{className:"w-5 h-5 mr-3"}),"支付设置"]}),e.jsxs("button",{onClick:()=>t("orders"),className:`w-full flex items-center px-6 py-3 text-sm font-medium ${s==="orders"?"bg-blue-50 text-blue-600 border-l-4 border-blue-600":"text-gray-600 hover:bg-gray-50"}`,children:[e.jsx(W,{className:"w-5 h-5 mr-3"}),"订单管理"]}),e.jsxs("button",{onClick:()=>t("revenue"),className:`w-full flex items-center px-6 py-3 text-sm font-medium ${s==="revenue"?"bg-blue-50 text-blue-600 border-l-4 border-blue-600":"text-gray-600 hover:bg-gray-50"}`,children:[e.jsx(O,{className:"w-5 h-5 mr-3"}),"营收统计"]}),e.jsxs("button",{onClick:()=>t("advertisement"),className:`w-full flex items-center px-6 py-3 text-sm font-medium ${s==="advertisement"?"bg-blue-50 text-blue-600 border-l-4 border-blue-600":"text-gray-600 hover:bg-gray-50"}`,children:[e.jsx(Z,{className:"w-5 h-5 mr-3"}),"广告管理"]}),e.jsxs("button",{onClick:o,className:"w-full flex items-center px-6 py-3 text-sm font-medium text-red-600 hover:bg-red-50",children:[e.jsx(ee,{className:"w-5 h-5 mr-3"}),"退出登录"]})]})]}),e.jsxs("div",{className:"flex-1 p-8",children:[s==="payment"&&e.jsx(le,{}),s==="users"&&e.jsx(de,{}),s==="orders"&&e.jsx(xe,{}),s==="userSettings"&&e.jsx(oe,{}),s==="notification"&&e.jsx(me,{}),s==="revenue"&&e.jsx(pe,{}),s==="prices"&&e.jsx(ge,{}),s==="advertisement"&&e.jsx(be,{})]})]})}export{Ne as default};
